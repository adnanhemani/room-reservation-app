%div{:class => "panel-grout"}
  %div{:class => "panel panel-default"}
    %div{:class => "panel-heading"}
      %h3{:class => "panel-title"}
        %a{:"data-toggle" => "collapse", :href => "#filters_collapse"}
          %span
            Filter
      %span
        = submit_tag "Show", :id => "filters_submit", :class => "btn pull-right"
      %span
        = button_to "Clear", buildings_path, :method => :get, :class => "btn pull-right"
    %div{:id => "filters_collapse", :class => "panel-collapse collapse"}
      %div{:id => "filters_div", :class => "row"}
        = form_tag filter_path, :method => 'GET', :id => 'filters_form', :onsubmit => 'filterMarkers(event)' do
          %div{:id => "facilities_column", :class => "col-sm-4"}
            %div{:class => "checkbox"}
              %label
                = check_box_tag "StudentAccessible", true, params[:StudentAccessible]
                ADA-Student Accessible
            %div{:class => "checkbox"}
              %label
                = check_box_tag "Board", true, params[:Board]
                Board
            %div{:class => "checkbox"}
              %label
                = check_box_tag "AV", true, params[:AV]
                AV Devices
          %div{:id => "roomtype_column", :class => "col-sm-4"}
            %div{:class => "checkbox"}
              %label
                = check_box_tag "Classroom", true, params.fetch(:Classroom, true)
                Classroom
            %div{:class => "checkbox"}
              %label
                = check_box_tag "LectureHall", true, params.fetch(:LectureHall, true)
                Lecture Hall
            %div{:class => "checkbox"}
              %label
                = check_box_tag "Auditorium", true, params.fetch(:Auditorium, true)
                Auditorium
            %div{:class => "checkbox"}
              %label
                = check_box_tag "SeminarRoom", true, params.fetch(:SeminarRoom, true)
                Seminar Room
          %div{:id => "capacity_column", :class => "col-sm-4"}
            = number_field_tag "capacityLower", nil, min: 0, step: 1, class: "form-control", onchange: "limit()", value: params.fetch(:capacityLower, 0)
            %span
              TO
            = number_field_tag "capacityUpper", nil, step: 1, class: "form-control", onchange: "limit()", value: params.fetch(:capacityUpper, 1000)
        
- @api = ENV['GOOGLE_API_KEY']

#map

%script{:async => "", :defer => "defer", :src => "https://maps.googleapis.com/maps/api/js?key=#{@api}&callback=initMap"}